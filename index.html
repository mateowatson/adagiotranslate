<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Adagio Translate</title>
    <link rel="stylesheet" href="styles.css?v=20260216141109" />
  </head>
  <body>
    <header class="app-header">
      <div class="brand" aria-label="Adagio Translate">
        <span class="brand-mark" aria-hidden="true">
          <svg class="brand-note" viewBox="0 0 24 24" role="img" aria-hidden="true">
            <title>Musical note</title>
            <ellipse cx="8.3" cy="17.2" rx="3.6" ry="2.7" fill="currentColor" />
            <rect x="11.1" y="5.1" width="2.4" height="12.1" rx="1.2" fill="currentColor" />
            <path d="M13.4 5.4c3-.1 4.7.6 6.1 2.6c.5.8 0 1.8-1 1.8c-.4 0-.8-.2-1-.5c-.8-1.1-1.8-1.5-4.1-1.4z" fill="currentColor" />
          </svg>
        </span>
        <span class="brand-text">Adagio Translate</span>
      </div>
      <nav class="menu-bar" aria-label="Application menu">
        <details class="menu" id="menu-file">
          <summary>File</summary>
          <div class="menu-items" role="menu">
            <button id="new-project-btn" role="menuitem">New Project</button>
            <button id="import-doc-btn" role="menuitem">Import Document</button>
            <button id="open-project-btn" role="menuitem">Open Project</button>
            <button id="save-project-btn" role="menuitem">Save Project</button>
            <button id="save-project-as-btn" role="menuitem">Save Project As</button>
            <button id="export-md-btn" role="menuitem">Export Target as Markdown</button>
            <button id="export-docx-btn" role="menuitem">Export Target as DOCX</button>
          </div>
        </details>

        <details class="menu" id="menu-edit">
          <summary>Edit</summary>
          <div class="menu-items" role="menu">
            <button data-edit-action="undo" role="menuitem">Undo</button>
            <button data-edit-action="redo" role="menuitem">Redo</button>
            <button data-edit-action="cut" role="menuitem">Cut</button>
            <button data-edit-action="copy" role="menuitem">Copy</button>
            <button data-edit-action="paste" role="menuitem">Paste</button>
            <button data-edit-action="selectAll" role="menuitem">Select All</button>
          </div>
        </details>

        <details class="menu" id="menu-view">
          <summary>View</summary>
          <div class="menu-items" role="menu">
            <label>
              <span>Split Mode</span>
              <select id="split-mode">
                <option value="sentence">Sentence</option>
                <option value="paragraph">Paragraph</option>
              </select>
            </label>
            <label>
              <span>Editor Position</span>
              <select id="editor-position">
                <option value="bottom">Bottom</option>
                <option value="right">Right</option>
              </select>
            </label>
          </div>
        </details>

        <button id="local-settings-btn" class="menu-launcher" type="button">Local Settings</button>
      </nav>
      <a
        id="fork-github-link"
        class="github-fork-link"
        href="https://github.com/mateowatson/adagiotranslate"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Fork me on GitHub"
      >
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path
            d="M12 2C6.477 2 2 6.484 2 12.017c0 4.426 2.865 8.18 6.839 9.504c.5.092.682-.217.682-.483c0-.237-.009-.866-.014-1.7c-2.782.605-3.369-1.344-3.369-1.344c-.454-1.157-1.11-1.466-1.11-1.466c-.908-.62.069-.608.069-.608c1.004.07 1.532 1.033 1.532 1.033c.893 1.533 2.341 1.09 2.91.833c.091-.647.35-1.09.636-1.34c-2.22-.253-4.555-1.113-4.555-4.95c0-1.093.39-1.988 1.029-2.688c-.103-.253-.446-1.272.098-2.65c0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844a9.54 9.54 0 0 1 2.504.337c1.909-1.296 2.748-1.026 2.748-1.026c.546 1.379.202 2.398.1 2.65c.64.7 1.028 1.595 1.028 2.688c0 3.846-2.338 4.694-4.566 4.943c.36.31.68.92.68 1.855c0 1.338-.012 2.419-.012 2.747c0 .268.18.58.688.482A10.019 10.019 0 0 0 22 12.017C22 6.484 17.523 2 12 2Z"
            fill="currentColor"
          />
        </svg>
        <span id="fork-github-label">Fork me on GitHub</span>
      </a>
      <div class="project-meta" id="project-meta"></div>
    </header>

    <main id="workspace" class="workspace editor-bottom">
      <section class="panel segments-panel">
        <h2 id="segments-title">Segments</h2>
        <div class="segment-controls">
          <button id="resegment-btn">Re-Segment</button>
          <span id="segment-count">0 segments</span>
        </div>
        <p id="segments-help-note" class="sidebar-note">Click a segment to edit its translation inline.</p>
        <ol id="segment-list" class="segment-list"></ol>
      </section>

      <aside class="panel glossary-panel">
        <h2 id="glossary-title">Glossary</h2>
        <button id="add-glossary-btn" type="button">Add Entry</button>
        <p id="glossary-help-note" class="sidebar-note">Relevant entries for selected segment appear here.</p>
        <ul id="glossary-list" class="glossary-list"></ul>
      </aside>
    </main>

    <input type="file" id="doc-file-input" class="hidden" />
    <input type="file" id="project-file-input" class="hidden" accept=".adagio.json,.json" />

    <dialog id="project-setup-dialog">
      <form method="dialog" id="project-setup-form">
        <h3 id="project-setup-title">Project Setup</h3>
        <label>
          Source Language
          <select id="source-language" required>
            <option value="">Select source language</option>
            <option value="ar">Arabic</option>
            <option value="bn">Bengali</option>
            <option value="zh">Chinese (Simplified)</option>
            <option value="zh-TW">Chinese (Traditional)</option>
            <option value="nl">Dutch</option>
            <option value="en">English</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="el">Greek</option>
            <option value="he">Hebrew</option>
            <option value="hi">Hindi</option>
            <option value="id">Indonesian</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="fa">Persian</option>
            <option value="pl">Polish</option>
            <option value="pt">Portuguese</option>
            <option value="ru">Russian</option>
            <option value="es">Spanish</option>
            <option value="sv">Swedish</option>
            <option value="th">Thai</option>
            <option value="tr">Turkish</option>
            <option value="uk">Ukrainian</option>
            <option value="ur">Urdu</option>
            <option value="vi">Vietnamese</option>
          </select>
        </label>
        <label>
          Target Language
          <select id="target-language" required>
            <option value="">Select target language</option>
            <option value="ar">Arabic</option>
            <option value="bn">Bengali</option>
            <option value="zh">Chinese (Simplified)</option>
            <option value="zh-TW">Chinese (Traditional)</option>
            <option value="nl">Dutch</option>
            <option value="en">English</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="el">Greek</option>
            <option value="he">Hebrew</option>
            <option value="hi">Hindi</option>
            <option value="id">Indonesian</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="fa">Persian</option>
            <option value="pl">Polish</option>
            <option value="pt">Portuguese</option>
            <option value="ru">Russian</option>
            <option value="es">Spanish</option>
            <option value="sv">Swedish</option>
            <option value="th">Thai</option>
            <option value="tr">Turkish</option>
            <option value="uk">Ukrainian</option>
            <option value="ur">Urdu</option>
            <option value="vi">Vietnamese</option>
          </select>
        </label>
        <label>
          Split Method
          <select id="setup-split-mode">
            <option value="sentence">Sentence</option>
            <option value="paragraph">Paragraph</option>
          </select>
        </label>
        <menu>
          <button value="cancel" type="button" id="setup-cancel-btn">Cancel</button>
          <button value="default" type="submit">Continue</button>
        </menu>
      </form>
    </dialog>

    <dialog id="glossary-dialog">
      <form method="dialog" id="glossary-form">
        <h3 id="glossary-dialog-title">Add Glossary Entry</h3>
        <label>
          Target Term
          <input id="glossary-target-term" required />
        </label>
        <label>
          Translation / Meaning
          <input id="glossary-translation" required />
        </label>
        <menu>
          <button value="cancel" type="button" id="glossary-cancel-btn">Cancel</button>
          <button value="default" type="submit">Add</button>
        </menu>
      </form>
    </dialog>

    <dialog id="glossary-matches-dialog">
      <form method="dialog" id="glossary-matches-form">
        <h3 id="glossary-matches-title">Glossary Matches</h3>
        <ul id="glossary-matches-list" class="glossary-list"></ul>
        <menu>
          <button value="default" type="button" id="glossary-matches-close-btn">Close</button>
        </menu>
      </form>
    </dialog>

    <dialog id="local-settings-dialog">
      <form method="dialog" id="local-settings-form">
        <h3 id="local-settings-title">Local Settings</h3>
        <p id="local-settings-note" class="sidebar-note">
          Machine translation settings and API keys are stored only in this browser and are not included in
          exported project JSON files.
        </p>
        <label>
          App Language
          <select id="app-ui-language-select">
            <option value="en">English</option>
            <option value="es">Spanish</option>
          </select>
        </label>
        <label>
          Translation Provider
          <select id="mt-provider-select">
            <option value="none">None</option>
            <option value="mymemory" selected>MyMemory (No account)</option>
            <option value="google">Google Translate (API key)</option>
          </select>
        </label>
        <label>
          Google Cloud API Key
          <input id="google-api-key-input" type="password" placeholder="AIza..." autocomplete="off" />
        </label>
        <label>
          MyMemory Email (optional)
          <input id="mymemory-email-input" type="email" placeholder="you@example.com" autocomplete="off" />
        </label>
        <p id="local-settings-status" class="sidebar-note">Key not saved.</p>
        <menu>
          <button value="cancel" type="button" id="local-settings-close-btn">Close</button>
          <button value="default" type="button" id="clear-google-key-btn">Clear Keys</button>
          <button value="default" type="button" id="save-google-key-btn">Save Settings</button>
        </menu>
      </form>
    </dialog>

    <script src="https://unpkg.com/mammoth/mammoth.browser.min.js"></script>
    <script src="https://unpkg.com/docx@8.5.0/build/index.umd.js"></script>
    <script type="module" src="app.js?v=20260216141109"></script>
  </body>
</html>
